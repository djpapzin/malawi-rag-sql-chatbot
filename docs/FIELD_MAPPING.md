# Infrastructure Projects Database Field Mapping

## Database Overview

The Infrastructure Transparency Chatbot uses a single SQLite database:

- Database: `malawi_projects1.db`
- Location: Project root directory
- Primary Table: `proj_dashboard` (196 unique records)
- Status: Production database
- Note: Single source of truth for all infrastructure project data

## Database Schema

### Core Fields
These fields represent the complete structure of the `proj_dashboard` table:

| Field Name | Data Type | Example Value | Description |
|------------|-----------|---------------|-------------|
| projectname | TEXT | "Lilongwe Road Development Phase 1" | Project title |
| district | TEXT | "Lilongwe" | District location |
| projectsector | TEXT | "Infrastructure" | Project category |
| projectstatus | TEXT | "Active" | Current status |
| budget | NUMERIC | 500000.00 | Project budget in MWK |
| completionpercentage | NUMERIC | 45 | Completion percentage (0-100) |
| startdate | NUMERIC | 20230101 | Start date in YYYYMMDD format |
| completiondata | NUMERIC | 20240101 | Expected completion date in YYYYMMDD format |

### Valid Values

1. **Districts**
   - Lilongwe
   - Blantyre
   - Mzuzu
   - Zomba
   - Kasungu
   - Mangochi
   - Salima
   - Nkhata Bay
   - Karonga
   - Dedza

2. **Project Sectors**
   - Infrastructure
   - Water
   - Energy
   - Education
   - Healthcare
   - Agriculture
   - Transport

3. **Project Status**
   - Active
   - Planning
   - Completed
   - On Hold

### Data Formatting

1. **Budget Values**
   - Stored as NUMERIC
   - Displayed with "MWK" prefix and thousands separators
   - Example: MWK 500,000.00

2. **Dates**
   - Stored as NUMERIC in YYYYMMDD format
   - Example: 20230101 represents January 1, 2023

3. **Completion Percentage**
   - Stored as NUMERIC
   - Range: 0 to 100
   - Displayed with % symbol
   - Example: 45%

## Usage Examples

1. **Total Budget Query**
   ```sql
   SELECT SUM(budget) as total_budget 
   FROM proj_dashboard 
   WHERE LOWER(projectsector) = 'infrastructure';
   ```

2. **District Projects Query**
   ```sql
   SELECT projectname, district, projectsector, projectstatus, 
          budget, completionpercentage
   FROM proj_dashboard 
   WHERE LOWER(district) = 'zomba';
   ```

3. **Status-based Query**
   ```sql
   SELECT projectname, district, projectsector, projectstatus, 
          budget, completionpercentage
   FROM proj_dashboard 
   WHERE LOWER(projectstatus) = 'completed';
   ```

Note: This is the complete and accurate representation of the database structure as generated by `scripts/init_db.py`.
